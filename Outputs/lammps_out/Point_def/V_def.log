LAMMPS (30 Apr 2019)
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (../comm.cpp:88)
  using 1 OpenMP thread(s) per MPI task
# Input file for Vacancy Formation Energy

# --------------- INITIALIZATION ------------------
clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (../comm.cpp:88)
  using 1 OpenMP thread(s) per MPI task
units 		metal
dimension	3
boundary	p	p    p
atom_style	atomic
# ------------------ ATOM DEFINITION -------------------
variable lat_const file lat_const.txt

variable stable_structure file stable.txt

lattice ${stable_structure} ${lat_const}
lattice fcc ${lat_const}
lattice fcc 4.04525979567614
Lattice spacing in x,y,z = 4.04526 4.04526 4.04526
region		simbox block -4 4 -4 4 -4 4

create_box	1 simbox
Created orthogonal box = (-16.181 -16.181 -16.181) to (16.181 16.181 16.181)
  1 by 1 by 1 MPI processor grid

lattice 	${stable_structure} ${lat_const}  orient x 1 0 0 orient y 0 1 0 orient z 0 0 1
lattice 	fcc ${lat_const}  orient x 1 0 0 orient y 0 1 0 orient z 0 0 1
lattice 	fcc 4.04525979567614  orient x 1 0 0 orient y 0 1 0 orient z 0 0 1
Lattice spacing in x,y,z = 4.04526 4.04526 4.04526
create_atoms	1 region simbox
Created 2048 atoms
  create_atoms CPU = 0.000377916 secs

# ------------------------ FORCE FIELDS -----------------------
variable pairstyle file pairsty.txt
pair_style ${pairstyle}
pair_style eam/fs
variable potential file potential.txt
variable type file type.txt
pair_coeff * * ${potential} ${type}
pair_coeff * * Al1.eam.fs ${type}
pair_coeff * * Al1.eam.fs Al
#---------------------------Settings----------------------------
compute csym all centro/atom ${stable_structure}
compute csym all centro/atom fcc
compute eng all pe/atom
compute eatoms all reduce sum c_eng

#----------------------Run Minimization-------------------------
reset_timestep	0

thermo 10
thermo_style custom step pe lx ly lz press pxx pyy pzz c_eatoms

#dump 1 all custom 400 dump.relax.1.* id type xs ys zs c_csym c_eng


min_style cg
minimize 1e-15 1e-15 5000 5000
WARNING: Using 'neigh_modify every 1 delay 0 check yes' setting during minimization (../min.cpp:168)
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 8.5
  ghost atom cutoff = 8.5
  binsize = 4.25, bins = 8 8 8
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/fs, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d/newton
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.842 | 5.842 | 5.842 Mbytes
Step PotEng Lx Ly Lz Press Pxx Pyy Pzz c_eatoms 
       0   -6985.0254    32.362078    32.362078    32.362078 -0.0012510513 -0.0012510513 -0.0012510513 -0.0012510513   -6985.0254 
       1   -6985.0254    32.362078    32.362078    32.362078 -0.0012510513 -0.0012510513 -0.0012510513 -0.0012510513   -6985.0254 
Loop time of 0.0132283 on 1 procs for 1 steps with 2048 atoms

99.7% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = energy tolerance
  Energy initial, next-to-last, final = 
        -6985.02544121     -6985.02544121     -6985.02544121
  Force two-norm initial, final = 1.29237e-13 1.29237e-13
  Force max component initial, final = 3.5319e-15 3.5319e-15
  Final line search alpha, max atom move = 1 3.5319e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.013049   | 0.013049   | 0.013049   |   0.0 | 98.65
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 5.8883e-05 | 5.8883e-05 | 5.8883e-05 |   0.0 |  0.45
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.0001201  |            |       |  0.91

Nlocal:    2048 ave 2048 max 2048 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    5765 ave 5765 max 5765 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    143360 ave 143360 max 143360 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 143360
Ave neighs/atom = 70
Neighbor list builds = 0
Dangerous builds = 0

run 0
WARNING: No fixes defined, atoms won't move (../verlet.cpp:55)
Per MPI rank memory allocation (min/avg/max) = 4.842 | 4.842 | 4.842 Mbytes
Step PotEng Lx Ly Lz Press Pxx Pyy Pzz c_eatoms 
       1   -6985.0254    32.362078    32.362078    32.362078 -0.0012510513 -0.0012510513 -0.0012510513 -0.0012510513   -6985.0254 
Loop time of 5.52e-07 on 1 procs for 0 steps with 2048 atoms

181.2% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 5.52e-07   |            |       |100.00

Nlocal:    2048 ave 2048 max 2048 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    5765 ave 5765 max 5765 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    143360 ave 143360 max 143360 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 143360
Ave neighs/atom = 70
Neighbor list builds = 0
Dangerous builds = 0
#undump 1

#variable N equal count(all), counts the total number of atoms in the cell
#the total number of atoms is stored to the variable N

variable N equal count(all)
variable No equal $N
variable No equal 2048

#variable Ei equal "c_eatoms" computes the initial energy of the cell system before the vacancy
#E is needed to store the initial energy of the system to the variable Ei

variable E equal "c_eatoms"
variable Ei equal $E
variable Ei equal -6985.02544121587

#---------------------------------------------------------------
variable r2 equal sqrt(${lat_const}^2+${lat_const}^2)/4
variable r2 equal sqrt(4.04525979567614^2+${lat_const}^2)/4
variable r2 equal sqrt(4.04525979567614^2+4.04525979567614^2)/4
#r2 is the radius of the copper atom

#region select is a region defined so that all atoms within this region are removed
region select sphere 0 0 0 ${r2} units box
region select sphere 0 0 0 1.43021531659195 units box
delete_atoms region select compress yes
Deleted 1 atoms, new total = 2047
#---------------------------------------------------------------------

reset_timestep	0

thermo 10
thermo_style custom step pe lx ly lz press pxx pyy pzz c_eatoms

#dump 1 all custom 400 dump.relax.2.* id type xs ys zs c_csym c_eng


min_style cg
minimize 1e-15 1e-15 5000 5000
WARNING: Using 'neigh_modify every 1 delay 0 check yes' setting during minimization (../min.cpp:168)
Per MPI rank memory allocation (min/avg/max) = 5.967 | 5.967 | 5.967 Mbytes
Step PotEng Lx Ly Lz Press Pxx Pyy Pzz c_eatoms 
       0   -6980.9379    32.362078    32.362078    32.362078   -118.27787   -118.27787   -118.27787   -118.27787   -6980.9379 
      10   -6980.9563    32.362078    32.362078    32.362078    -122.5741    -122.5741    -122.5741    -122.5741   -6980.9563 
      20   -6980.9563    32.362078    32.362078    32.362078   -122.62727   -122.62727   -122.62727   -122.62727   -6980.9563 
      30   -6980.9563    32.362078    32.362078    32.362078   -122.62715   -122.62715   -122.62715   -122.62715   -6980.9563 
      40   -6980.9563    32.362078    32.362078    32.362078   -122.62716   -122.62716   -122.62716   -122.62716   -6980.9563 
      50   -6980.9563    32.362078    32.362078    32.362078   -122.62716   -122.62716   -122.62716   -122.62716   -6980.9563 
Loop time of 0.441293 on 1 procs for 50 steps with 2047 atoms

99.7% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = energy tolerance
  Energy initial, next-to-last, final = 
        -6980.93786492     -6980.95634109     -6980.95634109
  Force two-norm initial, final = 0.284321 3.31417e-12
  Force max component initial, final = 0.0472548 1.81535e-13
  Final line search alpha, max atom move = 1 1.81535e-13
  Iterations, force evaluations = 50 100

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.43576    | 0.43576    | 0.43576    |   0.0 | 98.75
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0019875  | 0.0019875  | 0.0019875  |   0.0 |  0.45
Output  | 0.00016755 | 0.00016755 | 0.00016755 |   0.0 |  0.04
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.003374   |            |       |  0.76

Nlocal:    2047 ave 2047 max 2047 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    5765 ave 5765 max 5765 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    143220 ave 143220 max 143220 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 143220
Ave neighs/atom = 69.9658
Neighbor list builds = 0
Dangerous builds = 0

#variable Ef equal "c_eatoms" computes the final energy of the cell system after the vacancy
#The final energy is stored to the variable Ef

variable Ef equal "c_eatoms"
variable Ev equal (${Ef}-((${No}-1)/${No})*${Ei})
variable Ev equal (-6980.95634108822-((${No}-1)/${No})*${Ei})
variable Ev equal (-6980.95634108822-((2048-1)/${No})*${Ei})
variable Ev equal (-6980.95634108822-((2048-1)/2048)*${Ei})
variable Ev equal (-6980.95634108822-((2048-1)/2048)*-6985.02544121587)

#---------------------------------------------

######################################
# SIMULATION DONE
print "All done"
All done
print "Total number of atoms = ${No}"
Total number of atoms = 2048
print "Initial energy of atoms = ${Ei}"
Initial energy of atoms = -6985.02544121587
print "Final energy of atoms = ${Ef}"
Final energy of atoms = -6980.95634108822
print "Vacancy formation energy = ${Ev}"
Vacancy formation energy = 0.658443173931119
print "${Ev}" file V_Energy.txt
0.658443173931119
Total wall time: 0:00:00
