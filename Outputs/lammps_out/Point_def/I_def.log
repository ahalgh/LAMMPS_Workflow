LAMMPS (30 Apr 2019)
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (../comm.cpp:88)
  using 1 OpenMP thread(s) per MPI task
# Input file for Interstitial Formation Energy

# --------------- INITIALIZATION ------------------
clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (../comm.cpp:88)
  using 1 OpenMP thread(s) per MPI task
units 		metal
dimension	3
boundary	p	p    p
atom_style	atomic

# ------------------ ATOM DEFINITION -------------------
variable lat_const file lat_const.txt

variable stable_structure file stable.txt

lattice ${stable_structure} ${lat_const}
lattice fcc ${lat_const}
lattice fcc 3.6390874570119
Lattice spacing in x,y,z = 3.63909 3.63909 3.63909
region		simbox block -4 4 -4 4 -4 4

create_box	1 simbox
Created orthogonal box = (-14.5563 -14.5563 -14.5563) to (14.5563 14.5563 14.5563)
  1 by 1 by 1 MPI processor grid

lattice 	${stable_structure} ${lat_const}  orient x 1 0 0 orient y 0 1 0 orient z 0 0 1
lattice 	fcc ${lat_const}  orient x 1 0 0 orient y 0 1 0 orient z 0 0 1
lattice 	fcc 3.6390874570119  orient x 1 0 0 orient y 0 1 0 orient z 0 0 1
Lattice spacing in x,y,z = 3.63909 3.63909 3.63909
create_atoms	1 region simbox
Created 2048 atoms
  create_atoms CPU = 0.000366018 secs

# ------------------------ FORCE FIELDS -----------------------
variable pairstyle file pairsty.txt
pair_style ${pairstyle}
pair_style eam/fs
variable potential file potential.txt
variable type file type.txt
pair_coeff * * ${potential} ${type}
pair_coeff * * Cu1.eam.fs ${type}
pair_coeff * * Cu1.eam.fs Cu
#---------------------------Settings----------------------------
compute csym all centro/atom ${stable_structure}
compute csym all centro/atom fcc
compute eng all pe/atom
compute eatoms all reduce sum c_eng

#----------------------Run Minimization-------------------------
reset_timestep	0

thermo 10
thermo_style custom step pe lx ly lz press pxx pyy pzz c_eatoms

#dump 1 all custom 400 dump.relax.1.* id type xs ys zs c_csym c_eng

min_style cg
minimize 1e-15 1e-15 5000 5000
WARNING: Using 'neigh_modify every 1 delay 0 check yes' setting during minimization (../min.cpp:168)
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 8
  ghost atom cutoff = 8
  binsize = 4, bins = 8 8 8
  2 neighbor lists, perpetual/occasional/extra = 1 1 0
  (1) pair eam/fs, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d/newton
      bin: standard
  (2) compute centro/atom, occasional
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 5.842 | 5.842 | 5.842 Mbytes
Step PotEng Lx Ly Lz Press Pxx Pyy Pzz c_eatoms 
       0    -6723.822      29.1127      29.1127      29.1127 7.6930343e-09 7.6874263e-09 7.6894196e-09 7.7022569e-09    -6723.822 
       1    -6723.822      29.1127      29.1127      29.1127 7.6909196e-09 7.6850545e-09 7.6838182e-09 7.7038862e-09    -6723.822 
Loop time of 0.0140817 on 1 procs for 1 steps with 2048 atoms

99.7% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = energy tolerance
  Energy initial, next-to-last, final = 
        -6723.82199636     -6723.82199636     -6723.82199636
  Force two-norm initial, final = 2.05324e-13 1.98327e-13
  Force max component initial, final = 6.01992e-15 6.5228e-15
  Final line search alpha, max atom move = 1 6.5228e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.013898   | 0.013898   | 0.013898   |   0.0 | 98.70
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 6.0889e-05 | 6.0889e-05 | 6.0889e-05 |   0.0 |  0.43
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.0001228  |            |       |  0.87

Nlocal:    2048 ave 2048 max 2048 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    5765 ave 5765 max 5765 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    180224 ave 180224 max 180224 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 180224
Ave neighs/atom = 88
Neighbor list builds = 0
Dangerous builds = 0

run 0
WARNING: No fixes defined, atoms won't move (../verlet.cpp:55)
Per MPI rank memory allocation (min/avg/max) = 4.842 | 4.842 | 4.842 Mbytes
Step PotEng Lx Ly Lz Press Pxx Pyy Pzz c_eatoms 
       1    -6723.822      29.1127      29.1127      29.1127 7.6909196e-09 7.6850545e-09 7.6838182e-09 7.7038862e-09    -6723.822 
Loop time of 5.52e-07 on 1 procs for 0 steps with 2048 atoms

181.2% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 5.52e-07   |            |       |100.00

Nlocal:    2048 ave 2048 max 2048 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    5765 ave 5765 max 5765 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    180224 ave 180224 max 180224 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 180224
Ave neighs/atom = 88
Neighbor list builds = 0
Dangerous builds = 0
#undump 1

#variable N equal count(all), counts the total number of atoms in the cell
#the total number of atoms is stored to the variable No

variable N equal count(all)
variable No equal $N
variable No equal 2048

#variable E equal "c_eatoms" computes the initial energy of the cell system before the interstitial
#E is needed to store the initial energy of the system to the variable Eo

variable E equal "c_eatoms"
variable Eo equal $E
variable Eo equal -6723.82199634798
#---------------------------------------------------------------
variable r2 equal sqrt(${lat_const}^2+${lat_const}^2)/4
variable r2 equal sqrt(3.6390874570119^2+${lat_const}^2)/4
variable r2 equal sqrt(3.6390874570119^2+3.6390874570119^2)/4
variable half equal ${lat_const}/2
variable half equal 3.6390874570119/2
variable ydel equal ${lat_const}*0.2262
variable ydel equal 3.6390874570119*0.2262
variable ydel2 equal (${ydel}+${half})
variable ydel2 equal (0.823161582776092+${half})
variable ydel2 equal (0.823161582776092+1.81954372850595)
#r2 is the radius of the copper atom
#region select sphere 0 0 0 ${r2} units box

#region select sphere 0 -${half} -${half} ${r2} units box
#delete_atoms region select compress yes
#fix immobile all setforce  0.0 0.0 0.0
create_atoms 1 single 0 -${half} 0 units box
create_atoms 1 single 0 -1.81954372850595 0 units box
Created 1 atoms
  create_atoms CPU = 6.978e-06 secs
#create_atoms 1 single 0 -${half} -${ydel} units box
#create_atoms 1 single 0 -${half} -${ydel2} units box
# (0, -1.8075, 0) is the location of the inserted atom
# -1.8075 is half of the lattice (see figure 2)
#---------------------------------------------------------------
reset_timestep	0

thermo 10
thermo_style custom step pe lx ly lz press pxx pyy pzz c_eatoms

#dump 1 all custom 400 dump.relax.2.* id type xs ys zs c_csym c_eng

min_style cg
minimize 1e-15 1e-15 5000 5000
WARNING: Using 'neigh_modify every 1 delay 0 check yes' setting during minimization (../min.cpp:168)
Per MPI rank memory allocation (min/avg/max) = 5.967 | 5.967 | 5.967 Mbytes
Step PotEng Lx Ly Lz Press Pxx Pyy Pzz c_eatoms 
       0   -6718.8228      29.1127      29.1127      29.1127    3280.1725    3280.1725    3280.1725    3280.1725   -6718.8228 
      10   -6724.1243      29.1127      29.1127      29.1127    864.60751    864.60751    864.60751    864.60751   -6724.1243 
      20   -6724.1247      29.1127      29.1127      29.1127    864.15822    864.15822    864.15822    864.15822   -6724.1247 
      30   -6724.1247      29.1127      29.1127      29.1127    864.16271    864.16271    864.16271    864.16271   -6724.1247 
      39   -6724.1247      29.1127      29.1127      29.1127    864.16282    864.16282    864.16282    864.16282   -6724.1247 
Loop time of 0.360534 on 1 procs for 39 steps with 2049 atoms

99.7% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = energy tolerance
  Energy initial, next-to-last, final = 
        -6718.82281768     -6724.12467031     -6724.12467031
  Force two-norm initial, final = 30.8041 1.28012e-07
  Force max component initial, final = 12.5735 5.63059e-09
  Final line search alpha, max atom move = 1 5.63059e-09
  Iterations, force evaluations = 39 76

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.35628    | 0.35628    | 0.35628    |   0.0 | 98.82
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0015408  | 0.0015408  | 0.0015408  |   0.0 |  0.43
Output  | 0.00012567 | 0.00012567 | 0.00012567 |   0.0 |  0.03
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002591   |            |       |  0.72

Nlocal:    2049 ave 2049 max 2049 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    5765 ave 5765 max 5765 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    180412 ave 180412 max 180412 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 180412
Ave neighs/atom = 88.0488
Neighbor list builds = 0
Dangerous builds = 0

#variable Ef equal "c_eatoms" computes the final energy of the cell system after the interstitial
#The final energy is stored to the variable Ef

variable Ef equal "c_eatoms"
variable Ei equal (${Ef}-((${No}+1)/${No})*${Eo})
variable Ei equal (-6724.12467030634-((${No}+1)/${No})*${Eo})
variable Ei equal (-6724.12467030634-((2048+1)/${No})*${Eo})
variable Ei equal (-6724.12467030634-((2048+1)/2048)*${Eo})
variable Ei equal (-6724.12467030634-((2048+1)/2048)*-6723.82199634798)
#---------------------------------------------

######################################
# SIMULATION DONE
print "All done"
All done
print "Total number of atoms = ${No}"
Total number of atoms = 2048
print "Initial energy of atoms = ${Eo}"
Initial energy of atoms = -6723.82199634798
print "Final energy of atoms = ${Ef}"
Final energy of atoms = -6724.12467030634
print "Interstitial formation energy = ${Ei}"
Interstitial formation energy = 2.98044225079411
print "${Ei}" file I_Energy.txt
2.98044225079411
Total wall time: 0:00:00
